# Pets API - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–º–∏

API –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –≤ —Å–∏—Å—Ç–µ–º–µ PetSitters.

## üìã –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
**POST** `/pets` üîí

–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ. –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º.

**Headers:**
```
Authorization: Bearer <JWT_TOKEN>
```

**Body:**
```json
{
  "name": "–ë–æ–±–∏–∫",
  "type": "dog",
  "breed": "–õ–∞–±—Ä–∞–¥–æ—Ä",
  "age": 3,
  "size": "medium",
  "weight": 25.5,
  "specialNeeds": "–ë–æ–∏—Ç—Å—è –≥—Ä–æ–º–∫–∏—Ö –∑–≤—É–∫–æ–≤",
  "medicalInfo": "–í—Å–µ –ø—Ä–∏–≤–∏–≤–∫–∏ —Å–¥–µ–ª–∞–Ω—ã"
}
```

**–¢–∏–ø—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö (type):**
- `dog` - —Å–æ–±–∞–∫–∞
- `cat` - –∫–æ—à–∫–∞
- `bird` - –ø—Ç–∏—Ü–∞
- `rabbit` - –∫—Ä–æ–ª–∏–∫
- `other` - –¥—Ä—É–≥–æ–µ

**–†–∞–∑–º–µ—Ä—ã (size):**
- `small` - –º–∞–ª–µ–Ω—å–∫–∏–π
- `medium` - —Å—Ä–µ–¥–Ω–∏–π
- `large` - –±–æ–ª—å—à–æ–π

**Response (201):**
```json
{
  "_id": "697117d676bbc3be9cb8c710",
  "ownerId": "697117d676bbc3be9cb8c700",
  "name": "–ë–æ–±–∏–∫",
  "type": "dog",
  "breed": "–õ–∞–±—Ä–∞–¥–æ—Ä",
  "age": 3,
  "size": "medium",
  "weight": 25.5,
  "specialNeeds": "–ë–æ–∏—Ç—Å—è –≥—Ä–æ–º–∫–∏—Ö –∑–≤—É–∫–æ–≤",
  "medicalInfo": "–í—Å–µ –ø—Ä–∏–≤–∏–≤–∫–∏ —Å–¥–µ–ª–∞–Ω—ã",
  "isActive": true,
  "createdAt": "2026-01-21T18:30:00.000Z",
  "updatedAt": "2026-01-21T18:30:00.000Z"
}
```

---

### 2. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö
**GET** `/pets`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ.

**Response (200):**
```json
[
  {
    "_id": "697117d676bbc3be9cb8c710",
    "ownerId": {
      "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
      "email": "ivan@example.com"
    },
    "name": "–ë–æ–±–∏–∫",
    "type": "dog",
    "breed": "–õ–∞–±—Ä–∞–¥–æ—Ä",
    "age": 3,
    "size": "medium"
  }
]
```

---

### 3. –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö
**GET** `/pets/my` üîí

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∂–∏–≤–æ—Ç–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Headers:**
```
Authorization: Bearer <JWT_TOKEN>
```

**Response (200):**
```json
[
  {
    "_id": "697117d676bbc3be9cb8c710",
    "name": "–ë–æ–±–∏–∫",
    "type": "dog",
    "breed": "–õ–∞–±—Ä–∞–¥–æ—Ä",
    "age": 3,
    "size": "medium",
    "weight": 25.5
  }
]
```

---

### 4. –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∂–∏–≤–æ—Ç–Ω–æ–º
**GET** `/pets/:id`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∂–∏–≤–æ—Ç–Ω–æ–º –ø–æ ID.

**Response (200):**
```json
{
  "_id": "697117d676bbc3be9cb8c710",
  "ownerId": {
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "phone": "+79001234567"
  },
  "name": "–ë–æ–±–∏–∫",
  "type": "dog",
  "breed": "–õ–∞–±—Ä–∞–¥–æ—Ä",
  "age": 3,
  "size": "medium",
  "weight": 25.5,
  "specialNeeds": "–ë–æ–∏—Ç—Å—è –≥—Ä–æ–º–∫–∏—Ö –∑–≤—É–∫–æ–≤",
  "medicalInfo": "–í—Å–µ –ø—Ä–∏–≤–∏–≤–∫–∏ —Å–¥–µ–ª–∞–Ω—ã",
  "photo": "https://example.com/photos/bobik.jpg",
  "isActive": true
}
```

---

### 5. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∂–∏–≤–æ—Ç–Ω–æ–º
**PATCH** `/pets/:id` üîí

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∂–∏–≤–æ—Ç–Ω–æ–≥–æ. –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö.

**Headers:**
```
Authorization: Bearer <JWT_TOKEN>
```

**Body (–≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã):**
```json
{
  "age": 4,
  "weight": 26.0,
  "medicalInfo": "–°–¥–µ–ª–∞–Ω–∞ –ø—Ä–∏–≤–∏–≤–∫–∞ –æ—Ç –±–µ—à–µ–Ω—Å—Ç–≤–∞"
}
```

**Response (200):**
```json
{
  "_id": "697117d676bbc3be9cb8c710",
  "name": "–ë–æ–±–∏–∫",
  "age": 4,
  "weight": 26.0,
  ...
}
```

---

### 6. –£–¥–∞–ª–∏—Ç—å –∂–∏–≤–æ—Ç–Ω–æ–µ
**DELETE** `/pets/:id` üîí

–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ (–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è). –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö.

**Headers:**
```
Authorization: Bearer <JWT_TOKEN>
```

**Response (204):** No Content

---

## üîí –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º:

1. –ü–æ–ª—É—á–∏—Ç–µ JWT —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/auth/register` –∏–ª–∏ `/auth/login`
2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <TOKEN>`

---

## üõ°Ô∏è –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- **–°–æ–∑–¥–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã—Ö** - —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—ã
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö** - –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö** - —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—ã (–≤–ª–∞–¥–µ–ª—å—Ü—ã)
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ** - —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∂–∏–≤–æ—Ç–Ω–æ–≥–æ

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### PowerShell

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ:**
```powershell
$token = "your_jwt_token_here"

$body = @{
    name = "–ë–∞—Ä—Å–∏–∫"
    type = "cat"
    breed = "–ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è"
    age = 2
    size = "medium"
    weight = 4.5
} | ConvertTo-Json

Invoke-WebRequest -Uri "http://localhost:3110/pets" `
    -Method POST `
    -ContentType "application/json" `
    -Headers @{Authorization = "Bearer $token"} `
    -Body $body
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞:**
```powershell
Invoke-WebRequest -Uri "http://localhost:3110/pets" | 
    Select-Object -ExpandProperty Content | 
    ConvertFrom-Json
```

### curl

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ:**
```bash
curl -X POST http://localhost:3110/pets \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "name": "–ë–∞—Ä—Å–∏–∫",
    "type": "cat",
    "breed": "–ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
    "age": 2,
    "size": "medium",
    "weight": 4.5
  }'
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö:**
```bash
curl http://localhost:3110/pets/my \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:**
```bash
curl -X PATCH http://localhost:3110/pets/PET_ID \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "age": 3,
    "weight": 5.0
  }'
```

**–£–¥–∞–ª–µ–Ω–∏–µ:**
```bash
curl -X DELETE http://localhost:3110/pets/PET_ID \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### 401 Unauthorized
```json
{
  "statusCode": 401,
  "message": "–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"
}
```
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization

### 403 Forbidden
```json
{
  "statusCode": 403,
  "message": "–í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö"
}
```
**–†–µ—à–µ–Ω–∏–µ:** –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å —á—É–∂–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ

### 404 Not Found
```json
{
  "statusCode": 404,
  "message": "–ñ–∏–≤–æ—Ç–Ω–æ–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
}
```
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID –∂–∏–≤–æ—Ç–Ω–æ–≥–æ

### 400 Bad Request
```json
{
  "statusCode": 400,
  "message": [
    "–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º",
    "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–∏–ø –∂–∏–≤–æ—Ç–Ω–æ–≥–æ"
  ]
}
```
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Swagger

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3110/api
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **pets**
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å (–∫–Ω–æ–ø–∫–∞ Authorize)
4. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
